# Scenario环境变量配置模板
# 复制此文件到具体的scenario目录中，重命名为.env，并根据需要修改变量值
# 
# 使用说明：
# 1. 复制到scenario目录：cp templates/config/.env.template config/scenarios/YOUR_SCENARIO/.env
# 2. 根据scenario的具体需求修改变量值
# 3. 确保docker-compose.yml文件中使用${VARIABLE_NAME}语法引用这些变量

# ===========================================
# 镜像配置
# ===========================================
# 基础服务镜像配置
INFERENCE_IMAGE=inference-engine
IMAGE_TAG=latest
DATA_PROCESSOR_IMAGE=data-processor
DATA_PROCESSOR_TAG=latest

# 第三方服务镜像
REDIS_IMAGE=redis
REDIS_TAG=7-alpine
MYSQL_IMAGE=mysql  
MYSQL_TAG=8.0
NGINX_IMAGE=nginx
NGINX_TAG=alpine

# ===========================================
# 服务配置
# ===========================================
# 推理服务配置
GPU_MEMORY=24G
MODEL_PATH=/data/your-model-path
REPLICAS=2

# 数据处理配置
BATCH_SIZE=32
BUFFER_SIZE=1024

# 数据库配置
MYSQL_ROOT_PASSWORD=your_mysql_root_password
MYSQL_DATABASE=your_database_name
MYSQL_USER=your_mysql_user
MYSQL_PASSWORD=your_mysql_password

# Redis配置
REDIS_PASSWORD=your_redis_password

# ===========================================
# 网络配置
# ===========================================
# 端口映射配置
INFERENCE_HOST_PORT=18008
DATA_HOST_PORT=18009
REDIS_HOST_PORT=6379
MYSQL_HOST_PORT=3306
WEB_HOST_PORT=8080

# 内部服务端口
SERVICE_PORT=8000
DATA_SERVICE_PORT=8001
REDIS_CONTAINER_PORT=6379
MYSQL_CONTAINER_PORT=3306

# ===========================================
# 存储配置
# ===========================================
# 卷挂载路径
DATA_VOLUME_PATH=/data
LOG_VOLUME_PATH=/opt/inference/logs
CACHE_VOLUME_PATH=/opt/inference/cache
CONFIG_VOLUME_PATH=/opt/inference/config

# 数据库存储
MYSQL_DATA_PATH=/var/lib/mysql
REDIS_DATA_PATH=/data

# ===========================================
# GPU和硬件配置
# ===========================================
# GPU设备ID（逗号分隔）
GPU_DEVICE_IDS=0,1
GPU_COUNT=2

# CPU限制
CPU_LIMIT=4
MEMORY_LIMIT=8G

# ===========================================
# 容器配置
# ===========================================
# 容器名称前缀
CONTAINER_PREFIX=scenario

# 重启策略
RESTART_POLICY=unless-stopped

# 日志配置
LOG_DRIVER=json-file
LOG_MAX_SIZE=10m
LOG_MAX_FILE=3

# ===========================================
# 服务类型和标识
# ===========================================
PRIMARY_SERVICE_TYPE=primary
WORKER_SERVICE_TYPE=worker
DATA_SERVICE_TYPE=data

# 环境标识
ENVIRONMENT=development
STAGE=test

# ===========================================
# 自定义变量
# ===========================================
# 在此处添加scenario特定的环境变量
# CUSTOM_VAR_1=value1
# CUSTOM_VAR_2=value2